"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[77058],{685402:(e,t,i)=>{i.d(t,{G:()=>s,b:()=>o});var r=i(667294),n=i(616550),l=i(785893);let a=(0,r.createContext)(!0);function s({children:e}){let t=(0,n.TH)(),[i,s]=(0,r.useState)(!0),o=(0,r.useRef)(t);return(0,r.useEffect)(()=>{o.current!==t&&(o.current=t,s(!1))},[t]),(0,l.jsx)(a,{value:i,children:e})}function o(){return(0,r.useContext)(a)}},122644:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(397657),n=i(857147);let l=(e=()=>{})=>{let t=(0,n.mB)(window.location.search),{invite_code:i}=t;if(!i){e(t);return}let l=encodeURIComponent(encodeURIComponent(i));(0,r.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:l}})}},575481:(e,t,i)=>{i.d(t,{J:()=>l,U:()=>A});var r=i(578373),n=i(992114);let l="nic_v4",a=`${l}=1a`,s=`${l}=1b`,o=[a,s],d=["invite_code","invite","board_invite_code","sender"],c=null,_=e=>!!d.find(t=>e.includes(t)),u=e=>!!o.find(t=>e.includes(t)),h=e=>e.pathname.includes("/pin/")&&!_(e.search)&&!u(e.search),p=e=>e.includes("sender"),m=e=>!_(e)&&!p(e)&&e.includes(l),f=async e=>{let{resource_response:t}=await r.Z.create("InviteSocialTrackingParamNonInviteResource",{user_id:e}).callCreate();if(!t)return(0,n.nP)(`${l}.social_tracking_pin_non_invite.no_resource_response`),"";{let e=encodeURIComponent(t.data);return(0,n.nP)(`${l}.social_tracking_pin_non_invite.encrypted.${e?"true":"false"}`),e}},P=(e,t,i)=>{let r=e.search?"&":"?";return e.pathname+e.search+(r+(i?s:a)+t)},g=(e,t,i=!1,r)=>{if(!h(e))return;let a=i?"mweb":"web";if(!t){(0,n.nP)(`${a}.${l}.social_tracking_pin_non_invite.insert.no_encrypted_id`);return}(0,n.nP)(`${a}.${l}.social_tracking_pin_non_invite.insert.attempt`);try{let s=P(e,t,i||!1);(0,n.nP)(`${a}.${l}.social_tracking_pin_non_invite.insert.success`),r(s)}catch{(0,n.nP)(`${a}.${l}.social_tracking_pin_non_invite.insert.caught_exception`)}},b=(e,t,i=!1,r)=>{c?g(e,c,i,r):(async()=>{let n=await f(t);c=n,g(e,n,i,r)})()},A=(e,t,i,r,a)=>{let s=i?"mweb":"web";(0,n.nP)(`${s}.${l}.social_tracking_pin_non_invite.attempt`);try{!i&&r&&h(e)?((0,n.nP)(`${s}.${l}.social_tracking_pin_non_invite.search_string_eligible`),b(e,t,i,a)):m(e.search)&&(0,n.nP)(`${s}.${l}.social_tracking_pin_non_invite.search_string_land`)}catch{(0,n.nP)(`${s}.${l}.social_tracking_pin_non_invite.caught_exception`)}}},489384:(e,t,i)=>{i.d(t,{Z:()=>_});var r=i(616550),n=i(575481),l=i(890360),a=i(174646),s=i(177270),o=i(180307),d=i(839284),c=i(992114);function _(){let{isBot:e,isSocialBot:t,referrerFromCookie:i,referrerFromHeader:_,countryFromHostName:u,countryFromIp:h,regionFromIp:p,isAuthenticated:m}=(0,a.B)(),f=(0,r.TH)(),P=(0,d.Z)(),g=new URLSearchParams(f.search),b=!e&&!!g.get("utm_pai"),A=g.get("utm_source"),L=!e&&!t&&(0,l.ey)(f),I=(0,o.Z)({countryFromHostName:u||"",countryFromIp:h||"",regionFromIp:p||"",isAuthenticated:m}),E=P&&I?_||i||"":(0,s.an)(i),C=!1,y=!e&&!t&&A&&["email",String(31)].includes(A),x=!e&&!t&&A&&["fb"].includes(A),v=!e&&!t&&!!(E&&(/facebook/.test(E)||/fb/.test(E))),w=!e&&!t&&!!(E&&(/twitter/.test(E)||/tw/.test(E)));L&&(0,c.nP)("unauth.entry_channel.invite_code",{sampleRate:1}),y&&(0,c.nP)("unauth.entry_channel.email_utm_source",{sampleRate:1}),x&&(0,c.nP)("unauth.entry_channel.social_media_utm_source_fb",{sampleRate:1}),v&&(0,c.nP)("unauth.entry_channel.social_media_referer_fb",{sampleRate:1}),w&&(0,c.nP)("unauth.entry_channel.social_media_referer_twitter",{sampleRate:1}),C=(0,s.Xn)(E);let S=!e&&C,O=!!g.get(n.J),T=!!g.get("twa_type")||E&&E.startsWith("android-app://com.pinterest.twa"),k=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","utm_admin","utm_id","utm_mail","utm_swu"].some(e=>null!==g.get(e))||!!E||O||T;return{isPaid:b,isInvite:L,utmSource:A,referrer:E,isSocial:L,isDirect:!e&&!b&&!L&&!S&&!k,isSEO:S,isBrowserStorageAllowed:I}}},25402:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(667294),n=i(545007),l=i(741594),a=i(733668);function s(e){let{name:t,optionsKey:i}=e,s=t===l.fY,o=(0,a.bC)(),d=o?.get(t,i);if(d)throw d;let c=e=>e[t]?.[i],_=(0,n.v9)(({resources:e})=>c(e)?.nextBookmark),u=(0,n.v9)(({resources:e})=>c(e)?.data),h=(0,n.v9)(({resources:e})=>c(e)?.auxData),p=(0,n.v9)(({resources:e})=>c(e)?.error),m=(0,r.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(s)return m.current;let f={auxData:h,data:u,error:p,isAtEnd:_===l.qx,nextBookmark:_};return(f.auxData!==m.current.auxData||f.data!==m.current.data||f.error!==m.current.error||f.isAtEnd!==m.current.isAtEnd||f.nextBookmark!==m.current.nextBookmark)&&(m.current=f),m.current}},177270:(e,t,i)=>{i.d(t,{H5:()=>P,Xn:()=>m,Yf:()=>L,an:()=>f});var r=i(890360),n=i(50113),l=i(857147);let a="BING",s="GOOGLE",o="YAHOO",d="YANDEX",c="RAKUTEN",_="NAVER",u="AMP_CACHE",h="DUCKDUCKGO",p=[s,a,o,d,c,_,u,h];function m(e){return p.includes(function(e){let{hostname:t}=(0,l.Qc)(e,!0);if(t&&e){if(t.includes("google.")||e.includes("android-app://com.google.android.googlequicksearchbox"))return s;else if(t.includes("bing."))return a;else if(t.includes("yahoo."))return o;else if(t.includes("yandex."))return d;else if(t.includes("rakuten."))return c;else if(t.includes("naver."))return _;else if(t.includes("duckduckgo."))return h;else if(t.includes(".cdn.ampproject.org"))return u}return""}(e))}function f(e){return e||"undefined"!=typeof document&&document.referrer||""}let P=e=>{let t=new URL(e);return t.searchParams.set("nii","t"),t.href},g=e=>"/"!==e[e.length-1]?`${e}/`:e,b=e=>{let t=g(e),i=(0,r.ll)({pathname:t});if((0,r.L6)(i))return"PIN";if((0,r.am)(i))return"BOARD";if((0,n.Z)(i))return"PROFILE";if((0,r.bo)(i))return"TODAY";if((0,r.z_)(i))return"IDEA";else if((0,r.R$)(i))return"SHOPPING";return"UNKNOWN"},A=({selector:e,skipExternal:t})=>{let i=Array.from(document.querySelectorAll(e)),r={pin:[],board:[],user:[],today:[],idea:[],shopping:[]},n=new Set;return i.forEach(e=>{let i=e.getAttribute("href");if(!i||i.startsWith("#")||t&&i.startsWith("http")&&!i.includes(window.location.hostname))return;let l=g(i);if(n.has(l))return;n.add(l);let a=b(l);"PIN"===a?r.pin.push(l):"BOARD"===a?r.board.push(l):"PROFILE"===a?r.user.push(l):"TODAY"===a?r.today.push(l):"IDEA"===a?r.idea.push(l):"SHOPPING"===a&&r.shopping.push(l)}),r},L=({country:e,language:t,isBot:i,hostname:r,pathname:n})=>({domain:r,country:e,language:t,currentUrl:n,pageType:b(n),referrer:document.referrer,isBot:i,links:A({selector:"a[href]",skipExternal:!0})})},839284:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(667294);let n=()=>()=>{},l=()=>!1,a=()=>!0,s=()=>(0,r.useSyncExternalStore)(n,l,a)},562759:(e,t,i)=>{i.d(t,{r:()=>b,K:()=>g});var r=i(667294),n=i(218291),l=i(113474),a=i(882368),s=i(986298),o=i(805),d=i(477565);let c=e=>{let t={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?t[(0,d.Z)(i)]=e[i]:t[(0,d.Z)(i)]=c(e[i]));return t},_=(e,t)=>{let i=[];for(let r in e)r!==t&&i.push({id:r,...c(e[r])});let r=i.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),n=new Map;for(let e of r)n.set(e.id,e);return n},u={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},p=({dispatch:e,isEnabled:t,state:i})=>{let{orbacVisibility:n,disableProfileChanger:l,headerVisible:a}=i,s=(0,r.useCallback)(i=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:i})},[t,e]),o=(0,r.useCallback)(i=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:i??!n})},[t,e,n]);return{changeProfile:s,toggleORBACVisibility:o,toggleDisableProfileChanger:(0,r.useCallback)(i=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:i??!l})},[t,e,l]),toggleHeaderVisibility:(0,r.useCallback)(i=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:i??!a})},[t,e,a])}},m=e=>{let[t,i]=(0,r.useReducer)(h,u),n=p({dispatch:i,isEnabled:e,state:t}),{activeProfile:l,orbacVisibility:a}=t;return(0,r.useEffect)(()=>{let e=(0,o.q)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,r.useEffect)(()=>{let e=(0,o.q)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,r.useEffect)(()=>{(0,o.N)("orbacVisibility",a)},[a]),(0,r.useEffect)(()=>{(0,o.N)("orbacActiveProfile",l)},[l]),{state:t,actions:n,receiveProfiles:(0,r.useCallback)((e,t)=>{i({type:"LOAD_PROFILES",payload:_(e,t)})},[i])}};var f=i(785893);let{Provider:P,useMaybeHook:g}=(0,n.Z)("RoleBasedAccessControlContext"),b=({children:e})=>{let t,i=(0,a.Z)(),n=!!(i.isAuth&&i.isPartner),{state:o,actions:d,receiveProfiles:c}=m(n),{activeProfile:_,headerVisible:u,profiles:h=[]}=o,p=h?Array.from(h.values()):[],g=(0,s.Z)(p),b=!!i.isAuth&&p.length>0&&g,A=i.isAuth?i.id:"",L=i.isAuth?i.username:"",{changeProfile:I,toggleORBACVisibility:E,toggleDisableProfileChanger:C,toggleHeaderVisibility:y}=d;(0,r.useEffect)(()=>{if(n){if("string"==typeof g){I(g);return}_||I(A)}},[g,A,n,I,_]),(0,r.useEffect)(()=>{n&&(b&&!u&&y(!0),!b&&u&&y(!1))},[y,b,n,u,h]);let{data:x}=(0,l.Z)(n?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),v=x?.profiles;i&&i.isAuth&&o.activeProfile===i.id?t={id:i.id,permissions:["OWNER"],user:{username:L,businessName:i.fullName,imgUrl:i.imageSmallUrl}}:_&&o.profiles&&(t=o.profiles.get(_)),(0,r.useEffect)(()=>{v&&c(v,A)},[c,v,A]);let w=o.profiles?Array.from(o.profiles.values()):[];return(0,f.jsx)(P,{value:{profiles:w,headerVisible:o.headerVisible,activeProfile:t,changeProfile:I,toggleORBACVisibility:E,toggleDisableProfileChanger:C,toggleHeaderVisibility:y},children:e})}},827491:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(967312),n=i(562759),l=i(986298);let a=()=>{let{checkExperiment:e}=(0,r.F)(),t=(0,n.K)(),{activeProfile:i}=t||{},a=(0,l.Z)(t?.profiles||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return s&&!a?Object.freeze({}):i&&(i.viewerMeetsMfaRequirement||(i.permissions||[]).includes("OWNER"))?i:Object.freeze({})}},986298:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(616550),n=i(890360),l=i(882368),a=i(903683);let s=e=>{let t=(0,r.TH)(),i=(0,l.Z)(),s=(0,a.S6)(),o=(0,r.$B)("/:username"),d=o?.params?.username,c=(0,r.$B)("/pin/:id"),_=!!c?.params?.id&&s(c.params.id)?.pinner?.id;if((0,n.ej)(t))return!1;if((0,n.RU)(t)||(0,n.mY)(t))return!0;let u=e.concat(i.isAuth?{user:{username:i.username},id:i.id}:{}).find(e=>{let{user:t={},id:i}=e||{},{username:r}=t;return(!!r&&!!d||!!_&&!!i)&&(r===d||_===i)});return!!u&&u.id}},488879:(e,t,i)=>{i.d(t,{D3:()=>_,DX:()=>d,Fk:()=>r,KY:()=>u,Ms:()=>n,N1:()=>h,_P:()=>o,gJ:()=>l,lJ:()=>s,nl:()=>a,q6:()=>c});let r=(e,t)=>{let i=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(i=t.user.businessName),i},n=(e,t)=>{let i=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(i=t.user.username),i},l=(e,t)=>{let i=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(i=t.user.imgUrl),i},a=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),s=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",o=(e,t,i)=>i&&i.user&&t&&t.isAuth&&i.id!==t.id?i.user.merchantId:e.advertiser?.merchant_id,d=(e,t,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===t),_=(e,t,i)=>!!(c(e,t,i)||e&&e.isAuth&&t===e.id),u=(e,t,i)=>_(e,t&&t.owner&&t.owner.id||"",i);function h(e,t,i){return _(e,t?t.id:"",i)}},747607:(e,t,i)=>{i.d(t,{Z:()=>d});var r=i(667294),n=i(883119),l=i(643693),a=i(414478),s=i(785893);let o={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function d({children:e,forwardRef:t,overrideTop:i=0,position:d="static",shouldShowShadow:c=!1,top:_,style:u={}}){let{currentScrollPosition:h,isScrolled:p,setSubheaderShadow:m}=(0,l.W)();(0,r.useEffect)(()=>(c&&m("contentHeader"),()=>{c&&m(null)}),[c]);let f=!1;"pending"!==_&&(f=null!=_?h>=_:p);let P=(0,s.jsx)(n.xu,{ref:t,dangerouslySetInlineStyle:{__style:{position:d,...u,...f&&c&&{...o,zIndex:499}}},children:e});return"sticky"===d?(0,s.jsx)(n.Le,{top:i,zIndex:new n.H3([a.Zu]),children:P}):P}},381366:(e,t,i)=>{i.d(t,{Z:()=>l,k:()=>r});let{Provider:r,useHook:n}=(0,i(218291).Z)("Conversations"),l=n},5096:(e,t,i)=>{i.d(t,{Z:()=>v});var r=i(667294),n=i(545007),l=i(616550),a=i(883119),s=i(219308),o=i(909512),d=i(852015),c=i(233846),_=i(967312),u=i(538645),h=i(331935),p=i(724027),m=i(785893);function f({isOpen:e,onDismiss:t}){let i=(0,c.ZP)();return(0,m.jsx)(d.ZP,{accessibilityModalLabel:i.bt("Modal de mensagem de erro porque a publicação do Pin está desabilitada", "Disabled Pin Publishing Error Message Modal", "disabledPinCreationModal.modal.accessibilityLabel", undefined, true),isOpen:e,mobileAccessibilityCloseIconLabel:i.bt("Fechar modal de mensagem de publicação desabilitada", "Close disabled publishing message modal", "disabledPinCreationModal.modal.closeIconLabel", undefined, true),onDismiss:t,type:"DisabledPublishingModal",children:(0,m.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",paddingX:6,paddingY:4,children:[(0,m.jsx)(a.X6,{children:i.bt("Opa!", "Oops...", "disabledPinCreationModal.modal.heading", undefined, true)}),(0,m.jsx)(a.xu,{paddingY:3,children:(0,m.jsx)(a.xv,{children:i.bt("Nosso servidor está enfrentando uma ligeira instabilidade no momento. Tente atualizar e publicar novamente mais tarde.", "Our server is experiencing a mild case of the hiccups at the moment. Please try refreshing and publishing again later.", "disabledPinCreationModal.modal.text", undefined, true)})}),(0,m.jsx)(a.xu,{paddingY:3,children:(0,m.jsx)(a.zx,{color:"red",onClick:()=>t(),size:"lg",text:i.bt("Ignorar", "Dismiss", "disabledPinCreationModal.button.dismiss", undefined, true)})})]})})}function P(e){let t=(0,c.ZP)(),{viewType:i,boardId:r,handleTouch:n}=e,l=t.bt("Pasta", "Board", "createMenuLinkButton.Create.Board.Label", undefined, true),s=t.bt("Subpasta", "Section", "createMenuLinkButton.Create.Section.Label", undefined, true);return 5===i&&r?(0,m.jsx)(a.Tg,{href:`/board/${r}/create_section/`,onTap:n,rounding:2,children:(0,m.jsx)(a.xu,{"data-test-id":"addSectionButton",paddingY:2,children:(0,m.jsx)(a.X6,{size:"400",children:s})})}):(0,m.jsx)(a.Tg,{href:"/board/create/",onTap:n,children:(0,m.jsx)(a.xu,{"data-test-id":"createMenuCreateBoardButton",paddingY:2,children:(0,m.jsx)(a.X6,{size:"400",children:l})})})}var g=i(108602);function b({disabledPinCreation:e,handleDisablePublish:t,handleTouch:i}){let r=(0,c.ZP)(),n=(0,l.k6)(),s=e=>({imageBase64:e,description:"",imageUrl:"",method:g.Iv}),o=r.bt("Foto", "Photo", "createPinButton.Photo.Upload.Label", undefined, true);return(0,m.jsx)(a.iP,{onTap:()=>{if(e){t();return}i()},tapStyle:"none",children:(0,m.jsxs)(a.xu,{paddingY:2,position:"relative",children:[(0,m.jsx)(a.X6,{size:"400",children:o}),e?null:(0,m.jsx)("input",{accept:"image/*",id:"upload-pin",onChange:e=>{let t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{let e=t.result;n.push({pathname:`/pin/create/${g.Iv}/`,state:s(String(e))})}},style:{opacity:0,position:"absolute",top:"0px",height:"100%",width:"100%"},type:"file"})]})})}var A=i(17409),L=i(683829),I=i(968386);function E(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let C=new a.Ry(1),y=e=>{let t=window&&window.innerWidth||0,i=e.bt("Insira um link para criar um Pin", "Enter a link to create a Pin, https://...", "placeholder in text field where a user inputs a URL to create a Pin", undefined, true),r=e.bt("Insira um link, https://...", "Enter a link, https://...", "placeholder in text field where a user inputs a URL to create a Pin - short version, 30 char limit", undefined, true);return t<380?r:i};class x extends r.PureComponent{constructor(...e){super(...e),E(this,"state",{createPinFromLinkUrl:"",showCreateModal:!1,showInlineTextEditCreatePin:!1,showPublishingDisabledError:!1,urlValidationError:null}),E(this,"createPinFromLinkInput",(0,r.createRef)()),E(this,"createMenuPlusIconButtonRef",(0,r.createRef)()),E(this,"closeCreateModal",()=>{this.setState({showCreateModal:!1,showInlineTextEditCreatePin:!1}),this.props.updatePinBuilderInput({isInputOpen:!1,submittedLink:""})}),E(this,"clearValidationError",()=>{this.setState({urlValidationError:null})}),E(this,"openCreateModal",()=>{this.handleTouch(),this.props.requireAuthForLimitedLogin({fn:()=>this.setState({showCreateModal:!0}),modalHeader:(0,A.is)(this.props.i18n)})()}),E(this,"handleCreatePinFromLinkTouch",()=>{this.setState({showInlineTextEditCreatePin:!0}),this.props.updatePinBuilderInput({isInputOpen:!0})}),E(this,"handleDisablePublish",()=>{this.setState({showCreateModal:!1,showPublishingDisabledError:!0})}),E(this,"handleLinkFieldChange",({value:e})=>{this.setState({createPinFromLinkUrl:e})}),E(this,"handlePinFromLinkFormSubmit",(e,t)=>{let{createPinFromLinkUrl:i}=this.state;e.preventDefault();let{errors:r}=(0,h.Jx)({message:this.props.i18n.bt("Insira uma URL válida.", "Oops! Please enter a valid URL.", "URL validation error message on Pin builder form", undefined, true)})(i),[n]=r;n?this.setState({urlValidationError:n}):this.handleUrlValidationSuccess(t)}),E(this,"handleTouch",()=>{let{logContextEvent:e,viewType:t,elementType:i}=this.props;e({view_type:t,view_parameter:3106,element:i,event_type:102,aux_data:{source:p.Z.PROFILE}})}),E(this,"handleUrlValidationSuccess",e=>{this.setState({showInlineTextEditCreatePin:!1});let{createPinFromLinkUrl:t}=this.state;this.props.updatePinBuilderInput({submittedLink:t}),e.push({pathname:"/pin-builder/",state:{createPinFromLinkUrl:t}}),this.closeCreateModal()}),E(this,"renderCreatePinFromLinkOption",()=>{let{disabledPinCreation:e,history:t}=this.props,{createPinFromLinkUrl:i,showInlineTextEditCreatePin:r}=this.state,n=this.props.i18n.bt("Site", "Website", "editPin.CreatePinFromUrl.Label", undefined, true);return(0,m.jsx)(a.kC,{alignItems:"center",height:46,justifyContent:"start",children:r?(0,m.jsx)("form",{onSubmit:e=>this.handlePinFromLinkFormSubmit(e,t),style:{width:"100%"},children:(0,m.jsxs)(a.xu,{display:"flex",justifyContent:"between",position:"relative",zIndex:C,children:[(0,m.jsxs)(a.xu,{ref:this.createPinFromLinkInput,width:"100%",children:[this.renderErrorFlyout(),(0,m.jsx)(a.nv,{id:"create-pin-from-link",onChange:this.handleLinkFieldChange,onFocus:()=>this.setState({urlValidationError:null}),placeholder:y(this.props.i18n),size:"lg",value:i})]}),(0,m.jsx)(a.hU,{accessibilityLabel:this.props.i18n.bt("Criar Pin a partir do link inserido", "Create Pin from entered link", "navigation button to confirm user will create a Pin from a link they entered", undefined, true),icon:"arrow-forward",iconColor:"darkGray",onClick:({event:e})=>this.handlePinFromLinkFormSubmit(e,t),size:"lg"})]})}):(0,m.jsx)(a.iP,{onTap:()=>{if(e){this.handleDisablePublish();return}this.handleCreatePinFromLinkTouch()},tapStyle:"none",children:(0,m.jsx)(a.xu,{"data-test-id":"websiteButton",position:"relative",children:(0,m.jsx)(a.X6,{size:"400",children:n})})})})}),E(this,"renderErrorFlyout",()=>{let{urlValidationError:e}=this.state;return e&&(0,m.jsx)(a.J2,{anchor:this.createPinFromLinkInput.current,idealDirection:"up",onDismiss:this.clearValidationError,size:"sm",children:(0,m.jsx)(a.xu,{padding:3,width:"100%",children:(0,m.jsxs)(a.kC,{gap:2,children:[(0,m.jsx)(a.qb,{type:"problem"}),(0,m.jsx)(a.xv,{align:"center",weight:"bold",children:e})]})})})})}componentDidMount(){let{isInputOpen:e,submittedLink:t}=this.props;(e||t)&&this.setState({showCreateModal:!!e,showInlineTextEditCreatePin:!!e,createPinFromLinkUrl:t||""})}render(){let{bgColor:e,boardId:t,buttonPadding:i,disabledPinCreation:n,i18n:l,isDesktop:s,iconButtonColor:c="gray",iconButtonSize:_="xl",viewType:u}=this.props,{showCreateModal:h,showPublishingDisabledError:p}=this.state,g=this.props.i18n.bt("Adicionar um Pin ou uma pasta", "Add a Pin or board", "heading in profile create modal", undefined, true);164===u?g=this.props.i18n.bt("Adicionar à subpasta", "Add to section", "heading in section create modal", undefined, true):5===u&&(g=this.props.i18n.bt("Adicionar um Pin ou uma subpasta", "Add a Pin or section", "heading in profile create modal", undefined, true)||l.bt("Adicionar à pasta", "Add to board", "heading in board create modal", undefined, true));let A=4===u?this.props.i18n.bt("Adicionar ao perfil", "Add to profile", "editPin.AddToProfile.Modal.Header", undefined, true):g,L=(5===u||164===u)&&this.createMenuPlusIconButtonRef.current;return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,m.jsx)(a.xu,{"data-test-id":"createMenuCreateButton",children:(0,m.jsx)(a.hU,{ref:this.createMenuPlusIconButtonRef,accessibilityLabel:this.props.i18n.bt("Criar um Pin ou uma pasta", "Create a Pin or board", "icon that opens model prompting user to create a new pin or board", undefined, true),bgColor:e,icon:"add",iconColor:c,onClick:this.openCreateModal,padding:"auto"!==i?i:1,size:_})})}),h&&(0,m.jsx)(d.ZP,{accessibilityModalLabel:"",heading:A,isOpen:this.state.showCreateModal,mobileAccessibilityCloseIconLabel:this.props.i18n.bt("fechar modal de criação de pastas e Pins", "close board and pin create modal", "close modal that prompts user to create a new pin or board", undefined, true),onDismiss:this.closeCreateModal,type:"create_menu",children:(0,m.jsx)(a.xu,{padding:3,children:(0,m.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,m.jsxs)(r.Fragment,{children:[(0,m.jsxs)(a.xu,{paddingX:2,children:[(0,m.jsx)(a.xv,{children:this.props.i18n.bt("Criar", "Create", "editPin.Create.Section.Text", undefined, true)}),(0,m.jsx)(r.Fragment,{children:this.renderCreatePinFromLinkOption()}),(0,m.jsx)(b,{disabledPinCreation:n,handleDisablePublish:this.handleDisablePublish,handleTouch:this.handleTouch})]}),164!==u&&(0,m.jsxs)(a.xu,{marginTop:6,paddingX:2,children:[(0,m.jsx)(a.xv,{children:this.props.i18n.bt("Adicionar", "Add", "editPin.Section.Add.Text", undefined, true)}),(0,m.jsx)(P,{boardId:t,handleTouch:()=>{this.handleTouch(),this.closeCreateModal()},viewType:u})]})]}),(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:7,children:(0,m.jsx)(a.zx,{onClick:()=>this.closeCreateModal(),size:"lg",text:this.props.i18n.bt("Fechar", "Close", "editPin.Modal.Close.Button", undefined, true)})})]})})}),p&&(0,m.jsx)(f,{isOpen:!0,onDismiss:()=>{this.setState({showPublishingDisabledError:!1})}}),L&&(0,m.jsx)(o.N,{anchors:{[s?3006:4006]:this.createMenuPlusIconButtonRef.current},idealDirection:"up",onAnchorTouch:"complete",placementId:s?18:1000251,scrollToDismiss:!0})]})}}function v(e){let t=(0,c.ZP)(),i=(0,u.HG)(),{checkExperiment:r}=(0,_.F)(),a=["disable_all","disable_web_pins"].includes(r("disable_pin_creation").group),o=(0,n.I0)(),d=(0,l.k6)(),{pinBuilder:h}=(0,n.v9)(e=>e.session),p=(0,s.Z)(),f=h&&h.isInputOpen,P=h&&h.submittedLink,g=(0,L.Z)();return(0,m.jsx)(x,{...e,disabledPinCreation:a,history:d,i18n:t,isDesktop:i,isInputOpen:f,logContextEvent:p,requireAuthForLimitedLogin:g,submittedLink:P,updatePinBuilderInput:e=>o((0,I.p)(e))})}},352437:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(883119),n=i(233846),l=i(785893);let a=({isInModal:e})=>{let t=(0,n.ZP)();return(0,l.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new r.Ry(1),children:(0,l.jsx)(r.xH,{accessibilityLabel:t.bt("Carregando", "Loading", "Full page loading state", undefined, true),show:!0})})}},643693:(e,t,i)=>{i.d(t,{H:()=>d,W:()=>o});var r=i(667294),n=i(218291),l=i(169650),a=i(785893);let{Provider:s,useHook:o}=(0,n.Z)("HeaderShadow");function d({children:e}){let[t,i]=(0,r.useState)(!1),[n,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(0),[_,u]=(0,r.useState)(null),h=(0,l.Z)(()=>{t&&(o(window.scrollY>0),c(window.scrollY))},50);return(0,r.useEffect)(()=>(i(!0),()=>{i(!1)}),[]),(0,r.useEffect)(()=>(window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}),[t]),(0,a.jsx)(s,{value:{currentScrollPosition:d,isScrolled:n,setSubheaderShadow:u,subheaderShadow:_},children:e})}},196965:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(667294),n=i(219308),l=i(112800);let a=e=>Object.keys(e).reduce((t,i)=>(void 0===e[i]&&delete t[i],t),{...e}),s=({viewType:e,viewParameter:t,viewData:i,auxData:r,objectIdStr:n,component:s,clientTrackingParams:o,element:d},c)=>{let _=a({event_type:13,view_type:e,view_parameter:t,view_data:i,aux_data:r,object_id_str:n,component:s,clientTrackingParams:o,element:d});-1===Object.keys(_).indexOf("view_type")&&(0,l.My)("mweb.logging.null_view_type"),c(_)};function o(e){let{auxData:t,clientTrackingParams:i,children:l,component:a,element:o,objectIdStr:d,viewData:c,viewParameter:_,viewType:u}=e,h=(0,n.Z)(),p=JSON.stringify(t),m=JSON.stringify(c);return(0,r.useEffect)(()=>{s(e,h)},[h,p,i,a,o,d,m,_,u]),r.Children.only(l)}},108602:(e,t,i)=>{i.d(t,{Iv:()=>r,dU:()=>u,it:()=>a,jI:()=>_,n0:()=>o,nY:()=>l,sW:()=>c,up:()=>n});let r="uploaded",n="pinbuilder",l="scraped",a="button";function s(e){return!!e&&"object"==typeof e&&"method"in e}function o(e){return s(e)&&e.method===l}function d(e){return s(e)&&e.method===r}function c(e){return s(e)&&e.method===a}function _(e){return o(e)||d(e)||c(e)}function u({boardId:e,checkExperiment:t,createPin:i,sectionId:r,state:n}){let l=[];if(o(n)){let{imgData:a}=n;a.forEach(a=>{l.push(i(function({boardId:e,checkExperiment:t,image:i,sectionId:r,state:n}){let{description:l,link:a,method:s}=n;return{boardId:e,checkExperiment:t,description:l,guid:"",imageBase64:"",imageUrl:i,link:a,method:s,sectionId:r}}({boardId:e,checkExperiment:t,image:a,sectionId:r,state:n})))})}else l.push(i(function({boardId:e,checkExperiment:t,sectionId:i,state:r}){if(d(r)){let{description:n,imageBase64:l,imageUrl:a,method:s}=r;return{boardId:e,checkExperiment:t,description:n,guid:"",imageBase64:l,imageUrl:a,link:"",method:s,sectionId:i}}{let{description:n,guid:l,imageUrl:a,link:s,method:o}=r;return{boardId:e,checkExperiment:t,description:n,guid:l,imageUrl:a,link:s,method:o,sectionId:i}}}({boardId:e,checkExperiment:t,sectionId:r,state:n})));return l}},41771:(e,t,i)=>{i.d(t,{CC:()=>c,H$:()=>u,Mt:()=>o,dp:()=>_,p9:()=>h});var r=i(547504),n=i(838380),l=i(69401),a=i(943369),s=i(756493);let o=({key:e,lastVisitedPage:t,imageSignature:i,pinId:r,imageInfo:n,pinDescription:s,pinInviteCode:o})=>{let d=(0,a.M0)().getItem(e)??[];if(!d[0]||d[0].path!==t){let d=[{path:t,ts:Date.now(),pin_id:r||0,first_pin_image_signature:i||"",first_pin_id:r||"",image_info:n||"",pin_description:s||"",is_shared:!!o,pin_invite_code:o}];(0,a.M0)().prependItem(e,d,l.LG)}},d=()=>{let e,t=(0,s.Nl)().getItem(n.N_);if(!t)return[];try{e=JSON.parse(t)}catch(t){e=[]}return e},c=({path:e,image:t,dominant_color:i,pin_description:r,pin_id:l})=>{let a=d();a[0]&&a[0].path===e||(0,s.Nl)().setItem(n.N_,[{path:e,image:t,pin_description:r??"",dominant_color:i||"",pin_id:l||""}].concat(a))};function _(e,t,i,n,l,a){o({key:r.uc,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:n,pinDescription:l,pinInviteCode:a})}let u=(e,t,i,n,l)=>{o({key:r.hI,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:n,pinDescription:l??""})};function h(e,t,i,n,l){o({key:r.tH,lastVisitedPage:e,imageSignature:t,pinId:i,imageInfo:n,pinDescription:l??""})}},17409:(e,t,i)=>{i.d(t,{Bb:()=>m,Bx:()=>s,F4:()=>a,Qj:()=>o,_6:()=>p,gv:()=>l,hg:()=>d,is:()=>u,jP:()=>h,lt:()=>n,oM:()=>c,wI:()=>_});var r=i(857147);let n=e=>e.bt("Faça login para continuar", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),l=({firstName:e,i18n:t})=>e?(t.bt("{{ name }} convidou você para participar de uma pasta", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):t.bt("Seus amigos convidaram você para participar de uma pasta", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),a=e=>{let t=(0,r.mB)(e.search).board_url;if(t){let e=(0,r.Jx)(t),i=(0,r.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},s=e=>e.bt("Faça login para salvar esse Pin", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),o=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e.bt("Faça login para enviar este Pin", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),c=e=>e.bt("Faça login para editar este Pin", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),_=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},u=e=>e.bt("Faça login para criar um Pin ou uma pasta", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),h=e=>e.bt("Entre na sua conta para ocultar esse Pin", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),p=e=>e.bt("Faça login para compartilhar o perfil", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),m=e=>e.bt("Entre na conta para criar uma pasta", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},640641:(e,t,i)=>{i.d(t,{C0:()=>r,Gj:()=>n,ZU:()=>a,a0:()=>o,vW:()=>s,y4:()=>l});let r=["DMCA","Trademark","GDPR"],n=["dsa","uk","india"],l=["dsa","uk"],a=new Date(2024,0,1),s="GB",o={test:{LAW:"test",DECIDER_KEY:"legal_webapp_takedown_form_test",COUNTRY_CODES:["US"],API:"/v3/legal/takedowns/test/",COMPLAINTS_OFFICE:!0,TRUSTED_FLAGGER:!1,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},turkey:{LAW:"turkey",DECIDER_KEY:"legal_webapp_takedown_form_turkey",COUNTRY_CODES:["TR"],API:"/v3/legal/takedowns/turkey/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1},dsa:{LAW:"dsa",DECIDER_KEY:"legal_webapp_takedown_form_dsa",COUNTRY_CODES:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"],API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!0,ALLOW_MULTIPLE_COMPLAINTS:!0,SHOW_VIOLATING_COUNTRY_OPTION:!0},uk:{LAW:"uk",DECIDER_KEY:"legal_webapp_takedown_form_uk",COUNTRY_CODES:[s],API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1,TRUSTED_FLAGGER:!1,ALLOW_MULTIPLE_COMPLAINTS:!0,SHOW_VIOLATING_COUNTRY_OPTION:!1},india:{LAW:"india",DECIDER_KEY:"legal_webapp_takedown_form_india",COUNTRY_CODES:["IN"],API:"/v3/legal/takedowns/india/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0,TRUSTED_FLAGGER:!1}}},68366:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(174646),n=i(640641);function l(){let{countryFromIp:e}=(0,r.B)();return{isEUBasedIp:!!e&&!!n.a0?.dsa?.COUNTRY_CODES?.includes(e),isIndiaIp:!!e&&!!n.a0?.india?.COUNTRY_CODES?.includes(e)}}},414478:(e,t,i)=>{i.d(t,{JR:()=>o,PJ:()=>s,Zu:()=>a,c6:()=>l,mM:()=>n});var r=i(883119);let n=new r.Ry(1),l=new r.H3([n]),a=new r.H3([l]),s=new r.H3([a]),o=new r.H3([a])},968386:(e,t,i)=>{i.d(t,{F:()=>r,p:()=>n});let r=e=>({type:"PIN_BUILDER_LOADED_IMAGES",payload:e}),n=e=>({type:"UPDATE_PIN_BUILDER_INPUT",payload:e})},969827:(e,t,i)=>{i.d(t,{Z:()=>r});function r(e){let{users:t}=e;if(!t)return;let i=Object.keys(t).find(e=>void 0!==t[e].login_state);return i?t[i]:void 0}},253695:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(442279),n=i(969827);let l=(0,r.P1)(n.Z,e=>e.invites,(e,t)=>Object.keys(t).reduce((i,r)=>{let n=r.split(":"),l=n[0],a=n[1],s=e.id===a,o=t[r]&&["new","contact_request_not_approved"].includes(t[r].status);return s&&o&&(i[l]=r),i},{}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/77058.pt_BR-bb187a8dd056eff0.mjs.map